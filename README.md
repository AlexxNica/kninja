# Kninja

Kninja is an experimental [ninja](https://ninja-build.org/) build file
generator for Kbuild, the Linux kernel's build system.  It does not really
attempt to understand Kbuild files but instead just processes the output
generated by GNU Make's `--print-data-base`.  Configuration changes and changes
to files with special generation rules are not currently handled, but
modifications to most normal source and header files should just work.

The use of ninja results in vastly improved incremental build times:

| Change                    | make -j8 | make -j8 objectname | ninja  |
| --------------------------| -------- | ------------------- | ------ |
| No changes                |  2.254s  |       0.731s        | 0.065s |
| One change, compile error |  1.225s  |       0.765s        | 0.077s |
| One change, full link     |  5.915s  |       NA            | 4.482s |

The link time unsuprisingly dominates when performing small changes, but as can
be seen the time until the start of compilation (and thus the time until any
compile errors are detected) is several times faster with ninja.

These numbers were measured with the [benchmarking script](benchmark.sh)
included in the repository.  Reading that script should also give you an idea
of how to use kninja.
